---
import { getCollection } from "astro:content"
import PatternLayout from "../../layouts/Pattern.astro"

// Generate a new path for every collection entry
export async function getStaticPaths() {
  const posts = await getCollection("free-patterns")
  const postResult = posts.map(post => ({
    params: {
      slug: post.slug
    },
    props: {
      post 
    }
  }))
  return postResult
}

// When it's time to render, you can get the entry directly from the prop
const { post } = Astro.props
---
{<PatternLayout post={post} />}
